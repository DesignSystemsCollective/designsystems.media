---
import Card from "../components/Card.astro";
import CardHeader from "../components/CardHeader.astro";
import LibraryStats from "../components/LibraryStats.astro";
import MediaGrid from "../components/MediaGrid.astro";
import PodcastGrid from "../components/PodcastGrid.astro";
import SectionHeader from "../components/SectionHeader.astro";
import Sponsors from "../components/Sponsors.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import ResponsiveGrid from "../layouts/ResponsiveGrid.astro";
import {
  allVideosFilteredAndSorted,
  allPodcastsFilteredAndSorted,
} from "../utils/mediaCollection";

const recentVideos = allVideosFilteredAndSorted.slice(0, 12);
const recentPodcasts = allPodcastsFilteredAndSorted.slice(0, 12);
---

<BaseLayout sidebar={false} isHome={true}>
  <LibraryStats />
  <Sponsors />
  <SectionHeader
    title="Latest videos"
    link="/all/"
    linkLabel="View all videos"
    padding={true}
  />
  <MediaGrid media={recentVideos} gridItemMinWidth="320px"/>
  <SectionHeader
    title="Latest podcast episodes"
    link="/podcast/"
    linkLabel="View all podcasts"
    padding={true}
  />
  <PodcastGrid media={recentPodcasts} />
  <ResponsiveGrid gridLayoutGap="1rem" gridColumnCount={3}>
    <Card>
      <CardHeader
        title="Popular topics"
        link="/tags/"
        linkLabel="View all tags"
      />
      <div class="home-content">
        <ul>
          <li><a href="/tags/get-started/">Get started</a></li><li>
            <a href="/tags/design-tokens/">Design tokens</a>
          </li><li><a href="/tags/components/">Components</a></li><li>
            <a href="/tags/color/">Color</a>
          </li><li><a href="/tags/atomic-design/">Atomic design</a></li>
        </ul>
      </div>
    </Card>
    <Card>
      <CardHeader
        title="Popular speakers"
        link="/speakers/"
        linkLabel="View all speakers"
      />
      <div class="home-content">
        <ul>
          <li><a href="/speakers/jina-anne/">Jina Anne</a></li><li>
            <a href="/speakers/dan-mall/">Dan Mall</a>
          </li><li><a href="/speakers/brad-frost/">Brad Frost</a></li><li>
            <a href="/speakers/nathan-curtis/">Nathan Curtis</a>
          </li><li><a href="/speakers/amy-hupe/">Amy Hupe</a></li>
        </ul>
      </div>
    </Card>
    <Card>
      <CardHeader title="Popular events" />
      <div class="home-content">
        <ul>
          <li><a href="/tags/clarity/">Clarity</a></li><li>
            <a href="/tags/design-systems-london/">Design Systems London</a>
          </li><li>
            <a href="/tags/the-future-of-design-systems/"
              >The Future of Design Systems</a
            >
          </li><li>
            <a href="/tags/dsw-day/">DSW Day</a>
          </li><li>
            <a href="/tags/smashing/">Smashing</a>
          </li>
        </ul>
      </div>
    </Card>
  </ResponsiveGrid>
</BaseLayout>

<style>
  .home-content {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 0rem;
  }

  .home-content ul {
    display: flex;
    flex-direction: column;
    list-style-type: none;
    padding: 0rem;
    margin-block: 1em 0rem;
  }

  .home-content ul li {
    line-height: 1.2rem;
    margin-block-end: 0.6em;
  }
  .home-content ul:last-child {
    margin-block-end: 0rem;
  }

  .home-content ul li a {
    font-size: 1.2rem;
    color: rgb(var(--accent));
    text-decoration: none;
    line-height: 1.1em;
    border-bottom: 1px solid var(--accent-hover);
    padding: 0.1em 0 0;
  }

  .home-content ul li a:hover {
    color: var(--accent-hover);
  }
</style>
